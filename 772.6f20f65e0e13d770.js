"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[772],{6772:(v,c,n)=>{n.r(c),n.d(c,{default:()=>Q});var g=n(6814),r=n(6223),d=n(2296),h=n(5986),i=n(4170),x=n(617),l=n(4516),p=n(5940),f=n(8109),Z=n(4748),_=n(738),t=n(9212),w=n(2333);const A=["signInNgForm"];function y(e,u){if(1&e&&(t.TgZ(0,"fuse-alert",33),t._uU(1),t.qZA()),2&e){const s=t.oxw();t.Q6J("appearance","outline")("showIcon",!1)("type",s.alert.type)("@shake","error"===s.alert.type),t.xp6(1),t.hij(" ",s.alert.message," ")}}function C(e,u){1&e&&(t.TgZ(0,"mat-error",34),t._uU(1,"Ce champ est obligatoire"),t.qZA())}function T(e,u){1&e&&(t.TgZ(0,"mat-error",34),t._uU(1,"Veuillez saisir une adresse \xe9lectronique valide"),t.qZA())}function F(e,u){1&e&&t._UZ(0,"mat-icon",35),2&e&&t.Q6J("svgIcon","heroicons_solid:eye")}function U(e,u){1&e&&t._UZ(0,"mat-icon",35),2&e&&t.Q6J("svgIcon","heroicons_solid:eye-slash")}function E(e,u){1&e&&(t.TgZ(0,"mat-error",34),t._uU(1,"Ce champ est obligatoire"),t.qZA())}function S(e,u){1&e&&(t.TgZ(0,"mat-error",34),t._uU(1,"Le mot de passe doit contenir au moins 8 caract\xe8res"),t.qZA())}function b(e,u){1&e&&(t.TgZ(0,"span"),t._uU(1," Se connecter "),t.qZA())}function J(e,u){1&e&&t._UZ(0,"mat-progress-spinner",36),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}const N=()=>["/sign-up"],Q=[{path:"",component:(()=>{class e{constructor(s,a,o,m){this._activatedRoute=s,this._authService=a,this._formBuilder=o,this._router=m,this.alert={type:"success",message:""},this.showAlert=!1}ngOnInit(){this.signInForm=this._formBuilder.group({email:["",[r.kI.required,r.kI.email]],password:["",r.kI.required],rememberMe:[""]})}signIn(){this.signInForm.invalid||(this.signInForm.disable(),this.showAlert=!1,this._authService.login(this.signInForm.value).subscribe(s=>{if("Connexion r\xe9ussie"==s.message){const a=JSON.stringify(s.user);localStorage.setItem("user",a),localStorage.setItem("role",s.user.role),this._router.navigateByUrl("/user")}else this.signInForm.enable(),this.signInNgForm.resetForm(),this.alert={type:"error",message:s.message},this.showAlert=!0}))}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(f.gz),t.Y36(w.e),t.Y36(r.QS),t.Y36(f.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["auth-sign-in"]],viewQuery:function(a,o){if(1&a&&t.Gf(A,5),2&a){let m;t.iGM(m=t.CRH())&&(o.signInNgForm=m.first)}},standalone:!0,features:[t.jDz],decls:51,vars:16,consts:[[1,"flex","flex-col","items-center","flex-auto","min-w-0","bg-white","sm:flex-row","md:items-start","sm:justify-center","md:justify-start"],[1,"w-full","px-4","py-8","mt-auto","mb-auto","md:flex","md:items-center","md:justify-end","sm:w-auto","md:h-full","md:w-1/2","sm:p-12","md:p-16","sm:rounded-2xl","md:rounded-none","sm:shadow","lg:items-center","md:shadow-none","sm:bg-card"],[1,"w-full","mx-auto","max-w-80","sm:w-80","sm:mx-0"],["src","assets/logos/logo.png","alt","Dish Logo",1,"w-[6rem]","h-[4rem]","max-w-full","bg-white"],[1,"mt-8","text-4xl","font-extrabold","leading-tight","tracking-tight"],[1,"flex","items-baseline","mt-0.5","font-medium"],[1,"ml-1","hover:underline","text-[#5271FF]",3,"routerLink"],["class","mt-8",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-8",3,"formGroup"],["signInNgForm","ngForm"],[1,"w-full"],["id","email","matInput","",3,"formControlName"],["class","text-red-500",4,"ngIf"],["id","password","matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["mat-flat-button","",1,"w-full","mt-2","bg-[#5271FF]","text-white","fuse-mat-button-large",3,"color","disabled","click"],[4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"relative","items-center","justify-center","flex-auto","hidden","w-1/2","h-[100vh]","p-16","overflow-hidden","bg-[#EEEEEE]","md:flex","lg:px-28","dark:border-l"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],["viewBox","0 0 220 192","width","220","height","192","fill","none",1,"absolute","text-gray-700","-top-16","-right-16"],["id","837c3e70-6c3a-44e6-8854-cc48c737b659","x","0","y","0","width","20","height","20","patternUnits","userSpaceOnUse"],["x","0","y","0","width","4","height","4","fill","currentColor"],["width","220","height","192","fill","url(#837c3e70-6c3a-44e6-8854-cc48c737b659)"],[1,"relative","z-10","w-full","max-w-2xl"],[1,"font-bold","leading-none","text-[#5271FF]","text-7xl"],[1,"mt-6","text-lg","leading-6","tracking-tight","text-black"],[1,"flex","items-center","mt-8"],[1,"mt-8",3,"appearance","showIcon","type"],[1,"text-red-500"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode"]],template:function(a,o){if(1&a){const m=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.TgZ(4,"div",4),t._uU(5," Se connecter"),t.qZA(),t.TgZ(6,"div",5)(7,"div"),t._uU(8,"Vous n'avez pas de compte ?"),t.qZA(),t.TgZ(9,"a",6),t._uU(10," S'inscrire "),t.qZA()(),t.YNc(11,y,2,5,"fuse-alert",7),t.TgZ(12,"form",8,9)(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"Email "),t.qZA(),t._UZ(17,"input",11),t.YNc(18,C,2,0,"mat-error",12)(19,T,2,0,"mat-error",12),t.qZA(),t.TgZ(20,"mat-form-field",10)(21,"mat-label"),t._uU(22,"Mot de passe"),t.qZA(),t._UZ(23,"input",13,14),t.TgZ(25,"button",15),t.NdJ("click",function(){t.CHM(m);const I=t.MAs(24);return t.KtG(I.type="password"===I.type?"text":"password")}),t.YNc(26,F,1,1,"mat-icon",16)(27,U,1,1,"mat-icon",16),t.qZA(),t.YNc(28,E,2,0,"mat-error",12)(29,S,2,0,"mat-error",12),t.qZA(),t.TgZ(30,"button",17),t.NdJ("click",function(){return o.signIn()}),t.YNc(31,b,2,0,"span",18)(32,J,1,2,"mat-progress-spinner",19),t.qZA()()()(),t.TgZ(33,"div",20),t.O4$(),t.TgZ(34,"svg",21)(35,"g",22),t._UZ(36,"circle",23)(37,"circle",24),t.qZA()(),t.TgZ(38,"svg",25)(39,"defs")(40,"pattern",26),t._UZ(41,"rect",27),t.qZA()(),t._UZ(42,"rect",28),t.qZA(),t.kcU(),t.TgZ(43,"div",29)(44,"div",30)(45,"div"),t._uU(46,"Bienvenue Sur ReviseMate"),t.qZA(),t._UZ(47,"div"),t.qZA(),t.TgZ(48,"div",31),t._uU(49," Transformez vos cours en fiches synth\xe9tiques, cr\xe9ez des cartes m\xe9moire et testez vos connaissances avec des quiz personnalis\xe9s. R\xe9visions intelligentes, r\xe9sultats garantis ! "),t.qZA(),t._UZ(50,"div",32),t.qZA()()()}if(2&a){const m=t.MAs(24);t.xp6(9),t.Q6J("routerLink",t.DdM(15,N)),t.xp6(2),t.Q6J("ngIf",o.showAlert),t.xp6(1),t.Q6J("formGroup",o.signInForm),t.xp6(5),t.Q6J("formControlName","email"),t.xp6(1),t.Q6J("ngIf",null==o.signInForm.controls.email.errors?null:o.signInForm.controls.email.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.signInForm.controls.email.errors?null:o.signInForm.controls.email.errors.email),t.xp6(4),t.Q6J("formControlName","password"),t.xp6(3),t.Q6J("ngIf","password"===m.type),t.xp6(1),t.Q6J("ngIf","text"===m.type),t.xp6(1),t.Q6J("ngIf",null==o.signInForm.controls.password.errors?null:o.signInForm.controls.password.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.signInForm.controls.password.errors?null:o.signInForm.controls.password.errors.minlength),t.xp6(1),t.Q6J("color","primary")("disabled",o.signInForm.disabled),t.xp6(1),t.Q6J("ngIf",!o.signInForm.disabled),t.xp6(1),t.Q6J("ngIf",o.signInForm.disabled)}},dependencies:[f.rH,_.W,g.O5,r.u5,r._Y,r.Fj,r.JJ,r.JL,r.UX,r.sg,r.u,i.lN,i.KE,i.hX,i.TO,i.R9,l.c,l.Nt,d.ot,d.lW,d.RK,x.Ps,x.Hw,h.p9,p.Cq,p.Ou],encapsulation:2,data:{animation:Z.L}})}return e})()}]},2333:(v,c,n)=>{n.d(c,{e:()=>h});var g=n(9862),r=n(9212),d=n(553);let h=(()=>{class i{constructor(){this.http=(0,r.f3M)(g.eN),this.url=d.N.url}signUp(l){return this.http.post(`${this.url}/auth/register`,l,{withCredentials:!0})}login(l){return this.http.post(`${this.url}/auth/login`,l,{withCredentials:!0})}logout(){return this.http.post(`${this.url}/auth/logout`,{},{withCredentials:!0})}VerifyCodeProf(l){return this.http.post(`${this.url}/auth/verifyCode`,{code:l},{withCredentials:!0})}static#t=this.\u0275fac=function(p){return new(p||i)};static#e=this.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},553:(v,c,n)=>{n.d(c,{N:()=>r});const g="http://localhost:3000",r={production:!1,apiUrl:`${g}/api`,url:`${g}`}}}]);