<div class="flex flex-col items-center p-6">
    <h1 class="mb-6 text-3xl font-semibold text-gray-700">Créer un quiz</h1>

    <div class="w-full max-w-2xl p-6 bg-white shadow-lg rounded-xl">
        <label class="block text-lg font-semibold">Titre</label>
        <input type="text" class="w-full p-3 mt-1 border rounded-md"
            placeholder="Titre du quiz" [(ngModel)]="quizTitle">

        <div *ngFor="let question of questions; let i = index">
            <label class="block text-lg font-semibold">Question {{ i + 1 }}</label>
            <textarea class="w-full p-3 mt-1 border rounded-md resize-none"
                placeholder="Votre question" [(ngModel)]="question.question"></textarea>

            <div *ngFor="let answer of question.allAnswers">
                <label class="block text-lg font-semibold">Réponse</label>
                <input type="text" class="w-full p-3 mt-1 border rounded-md"
                    placeholder="Votre réponse" [(ngModel)]="answer.text">

                <label class="flex items-center mt-2">
                    <input type="checkbox"
                        [(ngModel)]="answer.isChecked"
                        (change)="theCorrectAnswer(question, answer)">
                    <span class="ml-2">Correcte</span>
                </label>
            </div>

            <button type="button" (click)="removeQuestion(i)" class="text-red-500">Supprimer cette question</button>
            <hr *ngIf="i < questions.length - 1" class="my-6 border-t border-gray-300">
        </div>

        <div class="flex justify-center">
            <button (click)="submitQuiz()" class="px-6 py-3 text-white bg-blue-500 rounded-full hover:bg-blue-700">
                Valider
            </button>
        </div>
    </div>

    <button (click)="addQuestion()" class="fixed flex items-center w-40 h-12 pl-3 bg-white rounded-full shadow-md bottom-6 left-6 hover:scale-105">
        <span class="text-sm text-blue-500">Ajouter une question</span>
    </button>
</div>
